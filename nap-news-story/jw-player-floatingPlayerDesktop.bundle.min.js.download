!function(){"use strict";var e,t,n,r,o=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},i=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n};e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap;var a,l=function(a,l,s,c){var f=this;void 0===c&&(c=250),e.set(this,!1),t.set(this,(function(){window.clearTimeout(o(f,e,"f")),i(f,e,!1,"f")})),n.set(this,(function(){window.requestAnimationFrame(f.callback),o(f,t,"f").call(f)})),r.set(this,(function(){!1===o(f,e,"f")&&i(f,e,window.setTimeout(o(f,n,"f"),f.frequency),"f")})),this.destroy=function(){f.element.removeEventListener(f.event,o(f,r,"f")),o(f,t,"f").call(f)},(a instanceof HTMLElement||a instanceof Window||a instanceof Document)&&"string"==typeof l&&"function"==typeof s?(Object.assign(this,{element:a,event:l,callback:s,frequency:c}),this.element.addEventListener(this.event,o(this,r,"f"))):console.error("Throttle config error: Missing parameter(s).")},s=(window.wp.data,function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}),c=function(){function e(e,t){var n=this;void 0===t&&(t={}),a.set(this,!1),this.handlePlayerReady=function(){var e;if(n.player){var t=n.player.getConfig().floating,r=(void 0===t?{}:t).mode,o=void 0===r?"never":r,i=n.player.getEnvironment().OS,a=(void 0===i?{}:i).mobile;n.isReady="never"!==o&&!1===a&&"video"!==(null===(e=n.config)||void 0===e?void 0:e.postType)}else console.error("DesktopFloatManager error: A player is required.");n.isReady&&(n.playerContainerIsViewable=!1,n.throttle=new l(window,"scroll",n.checkContainerViewable),null!==n.bannerAd&&n.floatAroundStickyBillboard())},this.checkContainerViewable=function(){1===n.player.getContainerPercentViewable()&&(n.playerContainerIsViewable=!0,n.throttle instanceof l&&n.throttle.destroy())},this.floatAroundStickyBillboard=function(){var e,t=n.player.getContainer(),r=0,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.floatingEnabled&&e.intersectionRatio<r&&e.intersectionRatio<.6;n.player.setFloating(t),r=e.intersectionRatio}))}),{threshold:(10,void 0===e&&(e=1),Array.from({length:10},(function(t,n){return parseFloat((n*(e/9)).toFixed(1))}))),root:document,rootMargin:"-".concat(n.bannerAd.offsetHeight,"px 0px ").concat(n.bannerAd.offsetHeight,"px 0px")});n.bannerAd.addEventListener("nyp.billboardStickyChange",(function(e){var r=e.detail.isSticky;!0===r?o.observe(t):!1===r&&(o.unobserve(t),n.floatingEnabled&&n.restorePlayerFloatingMode())}))},this.restorePlayerFloatingMode=function(){n.player.setConfig({floating:{mode:"notVisible"}})},this.player=e,this.config=t,this.isReady=!1,this.bannerAd=document.querySelector(".billboard-overlay")}return Object.defineProperty(e.prototype,"playerContainerIsViewable",{set:function(e){s(this,a,e,"f"),this.floatingEnabled?this.restorePlayerFloatingMode():this.player.setFloating(!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"floatingEnabled",{get:function(){return function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}(this,a,"f")},enumerable:!1,configurable:!0}),e}();a=new WeakMap;var f=c;(window.jwplayerPluginJsonp||window.jwplayer().registerPlugin)("jw-player-floatingPlayerDesktop.bundle.min","8.0",(function(e,t){void 0===t&&(t={});var n=new f(e,t);e.on("ready",n.handlePlayerReady)}))}();
//# sourceMappingURL=jw-player-floatingPlayerDesktop.bundle.min.js.map