!function(){"use strict";var t,e=function(t){"complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",t,{once:!0}):t()};function n(t){const{component:n,load:o,name:i,querySelector:r={},querySelectorAll:s={},options:l={}}=t;if("function"!=typeof n)return;const a=()=>{(()=>{const e=void 0===i?null==t?void 0:t.root:`[data-component='${i}']`;let n;try{n=document.querySelectorAll(e)}catch(t){return console.error(t),[]}return n.length<1?(console.log(`No elements found for ${e}`),[]):Array.from(n).map((t=>{const e={};return Object.keys(r).forEach((n=>{e[n]=t.querySelector(r[n])})),Object.keys(s).forEach((n=>{const o=t.querySelectorAll(s[n]);e[n]=Array.from(o)})),{element:t,children:e,options:l}}))})().forEach((t=>new n(t)))};if(!1===o)return a;!0!==o?function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t)if("function"==typeof n)n(t);else if(Array.isArray(n)){const[e,o]=n;null==e||e.addEventListener(o,t)}}(a,o):a()}function o(t){if(null==t)return;const e=window;let n,o,i=!1;const r=((t,r)=>{let s=null;return(...t)=>{null!==s&&clearTimeout(s),s=window.setTimeout((()=>{(t=>{var r;const s=document.querySelector('[id^="outbrain_widget_"]');let l="";s instanceof HTMLElement&&(l="widgetId"in s.dataset&&null!==(r=s.dataset.widgetId)&&void 0!==r?r:"no_id"),null===s||i||(i=!0,e.gtag&&e.gtag("event","Outbrain",{event_action:"loaded",event_category:"widget",outbrain_id:l}),clearInterval(n),o.disconnect())})(...t)}),2e3)}})();o=new MutationObserver(r),o.observe(t,{childList:!0}),n=window.setInterval((()=>{"complete"!==document.readyState||i||(clearInterval(n),o.disconnect())}),4e4)}n({name:"outbrain",component:class{constructor({element:t,children:e,options:n}){this.element=t,this.children=e,this.options=n,this.init()}init(){o(this.element)}}});class i{constructor(){const{body:{classList:t}}=document;this.main=document.getElementById("main"),this.entryContent=this.main.querySelector(".single__content"),this.bookmarkId="read-more-marker",this.childNodes=this.entryContent?this.entryContent.childNodes:{},this.entryContentP=t.contains("single-article")?this.main.querySelectorAll(".single__content > p"):this.main.querySelectorAll(".single__content p"),this.firstInlineAd=this.main.querySelector(".ad-slot--inline_1")}initialize(){const{entryContent:t,firstInlineAd:e}=this;t&&window.requestAnimationFrame((()=>{e?this.setMarkerAfterAd():this.setMarkerAfterContent(),this.setContentHeight()}))}static isEnabled(){const{body:{classList:t}}=document;return!!i.getShowReadMore()||t.contains("nyp-ob-show-full-article")}static getShowReadMore(){const t=new URLSearchParams(window.location.search).get("show_readmore");return t&&"true"===t}getMarkerEl(){const{bookmarkId:t}=this,e=document.createElement("span");return e.setAttribute("id",t),e.style.position="relative",e}setMarkerAfterAd(){const{firstInlineAd:t}=this,e=!!t&&t.getBoundingClientRect();if(e&&e.bottom>0){const e=this.getMarkerEl();t.parentNode.insertBefore(e,t.nextSibling)}}setMarkerAfterContent(){const{entryContentP:t}=this,e=this.getMarkerEl();let n=0,o=0;const i=t.length;for(let r=0;r<i;r+=1){const i=t[r];if(o=n,n+=i.offsetHeight,n>360){e.style.top=360-o+"px",i.parentNode.insertBefore(e,i);break}}}setFloat(t){const{bookmarkId:e,childNodes:n}=this,o=["DIV","IFRAME","FIGURE","PICTURE","IMG"];for(let i=0;i<n.length;i+=1){const r=n.item(i);if(r.id===e)break;-1!==o.indexOf(r.tagName)&&("none"===t&&"none"!==r.style.float?(r.setAttribute("data-float",r.style.float),r.style.float="none"):"default"===t&&void 0!==r.dataset.float&&(r.style.float=r.dataset.float))}}setContentHeight(){const{bookmarkId:t,entryContent:e}=this;this.setFloat("none");const n=e.getBoundingClientRect(),o=document.getElementById(t).getBoundingClientRect();this.setFloat("default"),e.style.maxHeight=o.top-n.top+300+"px",e.style.overflow="hidden"}}n({name:"zergnet",component:class{constructor({element:t,children:e,options:n}){this.element=t,this.children=e,this.options=n,this.init()}init(){this.element}}}),t=function(){i.isEnabled()&&(new i).initialize()},"complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",t,{once:!0}):t()}();